(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["lobby"],{"417e":function(t,e,i){"use strict";i.r(e);var r=i("7a23"),o={class:"lobby"},l={ref:"lobbyList"},a={class:"topics"};function n(t,e,i,n,s,c){var u=Object(r["v"])("router-link");return Object(r["p"])(),Object(r["d"])("article",o,[Object(r["g"])("ol",l,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(t.floors,(function(e){return Object(r["p"])(),Object(r["d"])("li",{key:e.floor.id},[Object(r["g"])("h2",null,[Object(r["g"])("button",{onClick:function(i){return t.setMapFloorId(e.floor.id)}},Object(r["x"])(e.floor.attributes.label),9,["onClick"])]),Object(r["g"])("ul",a,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(e.topics,(function(t){return Object(r["p"])(),Object(r["d"])("li",{key:t.id},[Object(r["g"])(u,{to:{name:"room",params:{rid:t.relationships.room.data.id}}},{default:Object(r["A"])((function(){return[Object(r["f"])(Object(r["x"])(t.attributes.label),1)]})),_:2},1032,["to"])])})),128)),Object(r["g"])("li",null,[Object(r["g"])("button",{onClick:function(i){return t.setMapFloorId(e.floor.id)}},"...",8,["onClick"])])]),Object(r["g"])("ul",{class:"samples",style:t.sampleWidth},[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["u"])(e.samples,(function(e){return Object(r["p"])(),Object(r["d"])("li",{key:e.id},[Object(r["g"])(u,{to:{name:"item",params:{rid:e.relationships.room.data.id,iid:e.id}}},{default:Object(r["A"])((function(){return[Object(r["g"])("figure",null,[Object(r["g"])("img",{src:t.thumbImageURL(e.attributes.images[0]),alt:e.attributes.title?e.attributes.title:"[untitled]"},null,8,["src","alt"])])]})),_:2},1032,["to"])])})),128))],4)])})),128))],512)])}i("4de4"),i("a15b"),i("d81d"),i("07ac"),i("ac1f"),i("1276");var s=i("d4ec"),c=i("bee2"),u=i("262e"),b=i("2caf"),f=i("9ab4"),d=i("ce1f"),p=i("ffbb"),j=function(t){Object(u["a"])(i,t);var e=Object(b["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.sampleWidth="",t}return Object(c["a"])(i,[{key:"setMapFloorId",value:function(t){this.$store.commit("setMapFloorId",t)}},{key:"thumbImageURL",value:function(t){return t?"/images/"+t.split("").join("/")+"/"+t+"-240.jpg":""}},{key:"updateSampleWidth",value:function(){var t=this.$refs.lobbyList.querySelector(":scope > li > h2");t&&(this.sampleWidth="width:"+96*Math.floor(t.clientWidth/96)+"px")}},{key:"floors",get:function(){var t=this;if(this.$store.state.objects.floors){var e=Object.values(this.$store.state.objects.floors);e=e.sort((function(t,e){return t.attributes&&e.attributes?t.attributes.level-e.attributes.level:t.attributes?-1:e.attributes?1:0}));var i=e.map((function(e){if(e.relationships){var i=e.relationships.topics.data.map((function(e){return t.$store.state.objects["floor-topics"][e.id]?t.$store.state.objects["floor-topics"][e.id]:null})).filter((function(t){return null!==t})),r=e.relationships.samples.data.map((function(e){return t.$store.state.objects.items[e.id]?t.$store.state.objects.items[e.id]:null})).filter((function(t){return null!==t}));return{floor:e,samples:r,topics:i}}return null})).filter((function(t){return null!==t}));return i.length>0&&this.$nextTick(this.updateSampleWidth),i}return[]}}]),i}(p["a"]);j=Object(f["a"])([Object(d["a"])({components:{}})],j);var O=j;O.render=n;e["default"]=O}}]);
//# sourceMappingURL=lobby.21892a47.js.map