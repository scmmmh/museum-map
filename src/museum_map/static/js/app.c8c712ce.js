(function(t){function e(e){for(var o,c,s=e[0],i=e[1],a=e[2],u=0,g=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&g.push(n[c][0]),n[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);l&&l(e);while(g.length)g.shift()();return A.push.apply(A,a||[]),r()}function r(){for(var t,e=0;e<A.length;e++){for(var r=A[e],o=!0,c=1;c<r.length;c++){var i=r[c];0!==n[i]&&(o=!1)}o&&(A.splice(e--,1),t=s(s.s=r[0]))}return t}var o={},n={app:0},A=[];function c(t){return s.p+"js/"+({item:"item",lobby:"lobby",room:"room"}[t]||t)+"."+{item:"410685b6",lobby:"35e9e750",room:"4a186c60"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(t){var e=[],r=n[t];if(0!==r)if(r)e.push(r[2]);else{var o=new Promise((function(e,o){r=n[t]=[e,o]}));e.push(r[2]=o);var A,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=c(t);var a=new Error;A=function(e){i.onerror=i.onload=null,clearTimeout(u);var r=n[t];if(0!==r){if(r){var o=e&&("load"===e.type?"missing":e.type),A=e&&e.target&&e.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+A+")",a.name="ChunkLoadError",a.type=o,a.request=A,r[1](a)}n[t]=void 0}};var u=setTimeout((function(){A({type:"timeout",target:i})}),12e4);i.onerror=i.onload=A,document.head.appendChild(i)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(r,o,function(e){return t[e]}.bind(null,o));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=a;A.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},5208:function(t,e,r){},"65fd":function(t,e,r){"use strict";r("5208")},"8b55":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAGQCAYAAABYs5LGAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAACINJREFUeJzt3Vty2lgUQFHRxUzu/IeksdAfabr6gR2MZF+xtdZXqhxc5ybIm2MX8mWBfd1mDxBxmT0A8F7+mD0AALDddfYANK3rOnuEtzTGmD0C8KZs6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQcJk9ADm3jz6wruunDxxj7D7MTBvP69oEvsSGDgAB19kDkPNos/xwa//C53gnZzsvcAA2dAAIEHQACBB0AAgQdAAIEHQACBB0AAg48tvWvvrWHzrO9n9/tvMC38CGDgABR76hxW1Zfn/7TDij+21jz3J9nO288BX368OGDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGX2QN84rblweu67jXHsizLMsbY9fM9yzkec479OdvzPP+2cY7Htp7Dhg4AAYff0Pd+BfTT7q+4nOMYnOM9Vc7rHMdSO4cNHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACrsuy3GYPAQBsY0MHgIDr/Q/rus6c43/GGLNHAIC3YUMHgABBB4AAQQeAgOvv/8ocR/uZPgAcmQ0dAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACBB0AAg4b9DGG37gGAE86bNABgOcJOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AARcZw8A8KxXfwPjuq6HmGPr451j3zm2Pv5o57ChA0CADR14G3tvRK86yhxbOcexvHqO+2ZvQweAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4CA6+wBAJ41xnjpceu6HmKOrZzjMef4xYYOAAE2dOBt7L0RverVOe4bmHPsyzl+ncOGDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABgg4AAdfZA3xkXdfZIwDA27ChA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQMBhgz7GWMYYs8cAgLdw2KADAM8TdAAIEHQACPj7t635eTUAvC8bOgAEXJdlucwe4gO32QMAwLuwoQNAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAgKADQICgA0CAoANAwGX2AJ+4bXnwuq57zbEsy7KMMXb9fM9yjsecY3/O9jzPv22c47Gt57ChA0DA4Tf0vV8BQcH9lfxZro+znRe+4n592NABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASDgOnsA4OvOdoOVs50XXmFDB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBB4AAQQeAAEEHgABBhzc0xljGGLPH+DFnOy+8QtABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASDgMnuAT9xmD/Dd1nX99ONupMEefvc8m83znD34empDB4CE6+wBPnHk7x5s9dXvPpT/LXjNbVmOv30/45kz/GO7ci3wX76e/sWGDgABgg4AAYIOAAGCDgABgg4AAYIOAAGCDgABR34fesUed7zL3zUPnuRaYKtHz6HEe9Nt6AAQYEP/Ia/c0atwFzC+xxnuS/2Ia4JXPXru1K4jGzoABAg6AAQIOgAECDoABAg6AAQIOgAECDoABAg6AAS4sQy8obPdYOVs54VX2NABIEDQASBA0AEgQNABIEDQASBA0AEgQNABIEDQASBA0AEgQNDhDY0xljHG7DF+zNnOC68QdAAIEHQACBB0AAgQdAAIEHQACBB0AAgQdAAIEHQACLjOHuAs3BQDtnMdwcds6AAQYEP/fpfZA5B0mz3AJK4n+IANHQACBB0AAgQdAAIEHQACBB0AAgQdAAK8BQTek7etAf9iQweAgD8BbYn3cZbfBM0AAAAASUVORK5CYII="},cd49:function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("7a23"),n={key:0},A=Object(o["f"])("Museum Map"),c={key:1},s=Object(o["f"])("Museum Map"),i=Object(o["f"])("Lobby"),a={key:0},u={key:1},l=Object(o["g"])("footer",null,[Object(o["g"])("div",null,[Object(o["g"])("a",{href:"https://www.room3b.eu/pages/projects/digital-museum-map.html",target:"_blank",rel:"noopener"},[Object(o["f"])("Find out more"),Object(o["g"])("span",{class:"hide-for-small"}," about how this works")])]),Object(o["g"])("div",null,[Object(o["g"])("a",{href:"https://collections.vam.ac.uk/",target:"_blank",rel:"noopener"},"Objects, Images, and Meta-data provided by the V&A")]),Object(o["g"])("div",null,[Object(o["g"])("a",{href:"http://www.getty.edu/research/tools/vocabularies/aat/",target:"_blank",rel:"noopener"},"Includes part of the AAT")])],-1),g={key:1,id:"loading"},b=Object(o["g"])("div",null,"Loading",-1),d=Object(o["g"])("svg",{width:"100",height:"100",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#1e4b9b"},[Object(o["g"])("g",{fill:"none","fill-rule":"evenodd"},[Object(o["g"])("g",{transform:"translate(1 1)","stroke-width":"2"},[Object(o["g"])("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[Object(o["g"])("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1.5s",repeatCount:"indefinite"})])])])],-1);function p(t,e,r,p,f,m){var O=Object(o["v"])("router-link"),h=Object(o["v"])("router-view"),j=Object(o["v"])("overview-map");return Object(o["p"])(),Object(o["d"])("main",null,[Object(o["g"])("header",null,[t.isSmall?(Object(o["p"])(),Object(o["d"])("h1",n,[t.currentFloor&&t.currentRoom?(Object(o["p"])(),Object(o["d"])("button",{key:0,onClick:e[1]||(e[1]=function(e){return t.setMapFloorId(t.currentFloor.id)})},Object(o["x"])(t.roomTitle),1)):(Object(o["p"])(),Object(o["d"])(o["a"],{key:1},[A],64))])):(Object(o["p"])(),Object(o["d"])("h1",c,[s,t.currentRoom?(Object(o["p"])(),Object(o["d"])(o["a"],{key:0},[Object(o["f"])(" - "+Object(o["x"])(t.roomTitle),1)],64)):Object(o["e"])("",!0)])),Object(o["g"])("nav",null,[Object(o["g"])("ol",null,[Object(o["g"])("li",null,[Object(o["g"])(O,{to:{name:"lobby"}},{default:Object(o["A"])((function(){return[i]})),_:1})]),t.currentFloor?(Object(o["p"])(),Object(o["d"])("li",a,[Object(o["g"])("button",{onClick:e[2]||(e[2]=function(e){return t.setMapFloorId(t.currentFloor.id)})},Object(o["x"])(t.currentFloor.attributes.label),1)])):Object(o["e"])("",!0),t.currentRoom&&!t.isSmall?(Object(o["p"])(),Object(o["d"])("li",u,[Object(o["g"])("button",{onClick:e[3]||(e[3]=function(e){return t.setMapFloorId(t.currentFloor.id)})},"Room "+Object(o["x"])(t.roomTitle),1)])):Object(o["e"])("",!0)])])]),Object(o["g"])(h),l,t.mapFloor?(Object(o["p"])(),Object(o["d"])(j,{key:0})):Object(o["e"])("",!0),t.loading?(Object(o["p"])(),Object(o["d"])("div",g,[b,d])):Object(o["e"])("",!0)])}var f=r("d4ec"),m=r("bee2"),O=r("262e"),h=r("2caf"),j=(r("159b"),r("9ab4")),B=r("ce1f"),Q=r("ffbb"),C=r("8b55"),I=r.n(C),v={id:"map"},E={class:"map"},D={class:"wrapper"},y=Object(o["g"])("img",{src:I.a,alt:""},null,-1),w={class:"description"},k=Object(o["g"])("svg",{viewBox:"0 0 24 24"},[Object(o["g"])("path",{d:"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"})],-1),R=Object(o["g"])("svg",{viewBox:"0 0 24 24"},[Object(o["g"])("path",{d:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"})],-1),x={key:0,class:"rooms"},H={class:"topics"},F=Object(o["g"])("li",null,"...",-1),M=Object(o["g"])("div",null,null,-1),N={key:0},G={key:0};function Y(t,e,r,n,A,c){var s=Object(o["v"])("router-link");return Object(o["p"])(),Object(o["d"])("section",v,[Object(o["g"])("div",null,[t.isSmall?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])("button",{key:0,class:"close",onClick:e[1]||(e[1]=function(e){return t.setMapFloorId(null)})},"✖")),Object(o["g"])("div",E,[Object(o["g"])("div",D,[y,(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(t.mapFloorRooms,(function(r){return Object(o["p"])(),Object(o["d"])(s,{key:r.id,to:{name:"room",params:{rid:r.id}},style:r.attributes.position,"aria-selected":t.selectedRoom&&r.id===t.selectedRoom.id?"true":"false",onClick:e[2]||(e[2]=function(e){return t.setMapFloorId(null)}),onMouseover:function(e){return t.highlightRoom(r)}},{default:Object(o["A"])((function(){return[Object(o["g"])("span",null,Object(o["x"])(t.mapLabel(r.attributes.label)),1)]})),_:2},1032,["to","style","aria-selected","onMouseover"])})),128))])]),Object(o["g"])("div",w,[Object(o["g"])("h2",null,[t.isSmall?(Object(o["p"])(),Object(o["d"])("button",{key:0,onClick:e[3]||(e[3]=function(e){return t.setMapFloorId(null)})},"✖")):Object(o["e"])("",!0),Object(o["g"])("span",null,Object(o["x"])(t.mapFloor.attributes.label),1),Object(o["g"])("button",{onClick:e[4]||(e[4]=function(e){return t.moveFloorUpDown(1)})},[k]),Object(o["g"])("button",{onClick:e[5]||(e[5]=function(e){return t.moveFloorUpDown(-1)})},[R])]),t.isSmall?(Object(o["p"])(),Object(o["d"])("ul",x,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(t.mapFloorRooms,(function(r){return Object(o["p"])(),Object(o["d"])("li",{key:r.id},[Object(o["g"])(s,{to:{name:"room",params:{rid:r.id}},"aria-selected":t.selectedRoom&&r.id===t.selectedRoom.id?"true":"false",onClick:e[6]||(e[6]=function(e){return t.setMapFloorId(null)}),onMouseover:function(e){return t.highlightRoom(r)}},{default:Object(o["A"])((function(){return[Object(o["f"])(Object(o["x"])(r.attributes.label),1)]})),_:2},1032,["to","aria-selected","onMouseover"])])})),128))])):(Object(o["p"])(),Object(o["d"])(o["a"],{key:1},[Object(o["g"])("ul",H,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(t.mapFloorTopics,(function(t){return Object(o["p"])(),Object(o["d"])("li",{key:t.id},Object(o["x"])(t.attributes.label),1)})),128)),F]),M,t.selectedRoom?(Object(o["p"])(),Object(o["d"])("section",N,[Object(o["g"])("h3",null,Object(o["x"])(t.selectedRoom.attributes.label),1),t.selectedRoomItem?(Object(o["p"])(),Object(o["d"])("figure",G,[Object(o["g"])("img",{src:t.thumbImageURL(t.selectedRoomItem.attributes.images[0]),alt:""},null,8,["src"])])):Object(o["e"])("",!0)])):Object(o["e"])("",!0)],64))])])])}r("4de4"),r("d81d"),r("07ac"),r("4e82"),r("a15b"),r("ac1f"),r("1276");var L=function(t){Object(O["a"])(r,t);var e=Object(h["a"])(r);function r(){var t;return Object(f["a"])(this,r),t=e.apply(this,arguments),t.selectedRoom=null,t}return Object(m["a"])(r,[{key:"selectedRoomItem",get:function(){if(this.selectedRoom&&this.selectedRoom.relationships&&this.selectedRoom.relationships.sample){if(this.$store.state.objects.items[this.selectedRoom.relationships.sample.data.id])return this.$store.state.objects.items[this.selectedRoom.relationships.sample.data.id];this.$store.dispatch("fetchItem",this.selectedRoom.relationships.sample.data.id)}return null}},{key:"mapFloor",get:function(){return this.$store.state.ui.mapFloorId&&this.$store.state.objects.floors[this.$store.state.ui.mapFloorId]?this.$store.state.objects.floors[this.$store.state.ui.mapFloorId]:null}},{key:"mapFloorRooms",get:function(){var t=this;if(this.mapFloor&&this.mapFloor.relationships){var e=[],r=this.mapFloor.relationships.rooms.data.map((function(r){return t.$store.state.objects.rooms[r.id]?t.$store.state.objects.rooms[r.id]:(e.push(r.id),null)})).filter((function(t){return null!==t}));return e.length>0&&this.$store.dispatch("fetchRooms",e).then((function(e){var r=e.map((function(e){return e.relationships&&e.relationships.sample&&!t.$store.state.objects.items[e.relationships.sample.data.id]?e.relationships.sample.data.id:null})).filter((function(t){return null!==t}));r.length>0&&t.$store.dispatch("fetchItems",r)})),r}return[]}},{key:"mapFloorTopics",get:function(){var t=this;if(this.mapFloor&&this.mapFloor.relationships){var e=[],r=this.mapFloor.relationships.topics.data.map((function(r){return t.$store.state.objects["floor-topics"][r.id]?t.$store.state.objects["floor-topics"][r.id]:(e.push(r.id),null)})).filter((function(t){return null!==t}));return e.length>0&&this.$store.dispatch("fetchFloorTopics",e),r}return[]}},{key:"isSmall",get:function(){return window.innerWidth<=784}},{key:"setMapFloorId",value:function(t){this.$store.commit("setMapFloorId",t)}},{key:"moveFloorUpDown",value:function(t){var e=Object.values(this.$store.state.objects.floors);e=e.sort((function(t,e){return t.attributes&&e.attributes?t.attributes.level-e.attributes.level:t.attributes?-1:e.attributes?1:0}));for(var r=0;r<e.length;r++)if(e[r].id===this.$store.state.ui.mapFloorId&&r+t>=0&&r+t<e.length){this.$store.commit("setMapFloorId",e[r+t].id);break}}},{key:"highlightRoom",value:function(t){this.selectedRoom=t}},{key:"mapLabel",value:function(t){return t.indexOf(" - ")>=0?t.substring(0,t.indexOf(" - ")):t}},{key:"thumbImageURL",value:function(t){return t?"/images/"+t.split("").join("/")+"/"+t+".jpg":""}}]),r}(Q["a"]);L=Object(j["a"])([Object(B["a"])({})],L);var $=L;$.render=Y;var K=$,P=function(t){Object(O["a"])(r,t);var e=Object(h["a"])(r);function r(){return Object(f["a"])(this,r),e.apply(this,arguments)}return Object(m["a"])(r,[{key:"mapFloor",get:function(){return this.$store.state.ui.mapFloorId&&this.$store.state.objects.floors[this.$store.state.ui.mapFloorId]?this.$store.state.objects.floors[this.$store.state.ui.mapFloorId]:null}},{key:"loading",get:function(){return this.$store.state.ui.loadingCount>0}},{key:"currentRoom",get:function(){if(this.$router.currentRoute&&this.$router.currentRoute.value.params.rid){var t=this.$router.currentRoute.value.params.rid;if(this.$store.state.objects.rooms[t])return this.$store.state.objects.rooms[t]}return null}},{key:"roomTitle",get:function(){return this.currentRoom&&this.currentRoom.attributes?this.currentRoom.attributes.number+" - "+this.currentRoom.attributes.label:"Museum Map"}},{key:"currentFloor",get:function(){if(this.currentRoom&&this.currentRoom.relationships&&this.currentRoom.relationships.floor){var t=this.currentRoom.relationships.floor.data.id;if(this.$store.state.objects.floors[t])return this.$store.state.objects.floors[t]}return null}},{key:"isSmall",get:function(){return window.innerWidth<=784}},{key:"created",value:function(){var t=this;this.$store.dispatch("fetchFloors").then((function(e){var r=[],o=[];e.forEach((function(e){e.relationships&&(e.relationships.samples.data.forEach((function(e){t.$store.state.objects.items[e.id]||r.push(e.id)})),e.relationships.topics.data.forEach((function(e){t.$store.state.objects["floor-topics"][e.id]||o.push(e.id)})))})),r.length>0&&t.$store.dispatch("fetchItems",r),o.length>0&&t.$store.dispatch("fetchFloorTopics",o)}))}},{key:"setMapFloorId",value:function(t){this.$store.commit("setMapFloorId",t)}}]),r}(Q["a"]);P=Object(j["a"])([Object(B["a"])({components:{OverviewMap:K},watch:{roomTitle:function(t){document.title="Room "+t}}})],P);var T=P;r("65fd");T.render=p;var z=T,S=(r("d3b7"),r("3ca3"),r("ddb0"),r("6c02")),X=[{path:"/",name:"lobby",component:function(){return r.e("lobby").then(r.bind(null,"417e"))}},{path:"/room/:rid",name:"room",component:function(){return r.e("room").then(r.bind(null,"3ab1"))},props:!0,children:[{path:":iid",name:"item",component:function(){return r.e("item").then(r.bind(null,"f0df"))},props:!0}]}],Z=Object(S["a"])({history:Object(S["b"])(),routes:X}),U=Z,J=r("1da1"),q=(r("96cf"),r("5502")),_=Object(q["a"])({state:{objects:{rooms:{},floors:{},items:{},"floor-topics":{}},ui:{loadingCount:0,mapFloorId:null}},mutations:{storeObject:function(t,e){t.objects[e.type][e.id]=e},startLoading:function(t){t.ui.loadingCount=t.ui.loadingCount+1},completedLoading:function(t){t.ui.loadingCount=t.ui.loadingCount-1},setMapFloorId:function(t,e){t.ui.mapFloorId=e}},actions:{fetchObjects:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n,A,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.commit,o("startLoading"),n="/api/"+e.type,e.query&&(n+=e.query),r.next=6,fetch(n);case 6:if(A=r.sent,200!==A.status&&304!==A.status){r.next=14;break}return r.next=10,A.json();case 10:return c=r.sent.data,c.forEach((function(t){o("storeObject",t)})),o("completedLoading"),r.abrupt("return",c);case 14:o("completedLoading");case 15:case"end":return r.stop()}}),r)})))()},fetchObject:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n,A,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.state,n=t.commit,!o.objects[e.type]||!o.objects[e.type][e.id]){r.next=5;break}return r.abrupt("return",o.objects[e.type][e.id]);case 5:return n("startLoading"),r.next=8,fetch("/api/"+e.type+"/"+e.id);case 8:if(A=r.sent,200!==A.status&&304!==A.status){r.next=16;break}return r.next=12,A.json();case 12:return c=r.sent.data,n("storeObject",c),n("completedLoading"),r.abrupt("return",c);case 16:n("completedLoading");case 17:case"end":return r.stop()}}),r)})))()},fetchRooms:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.dispatch,n={type:"rooms"},e&&(n.query="?filter[id]="+e.join(",")),r.next=5,o("fetchObjects",n);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},fetchRoom:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n,A;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.state,n=t.dispatch,o.objects.rooms[e]){r.next=11;break}return r.next=4,n("fetchObject",{type:"rooms",id:e});case 4:if(A=r.sent,!A.relationships){r.next=8;break}return r.next=8,n("fetchFloor",A.relationships.floor.data.id);case 8:return r.abrupt("return",A);case 11:return r.abrupt("return",o.objects.rooms[e]);case 12:case"end":return r.stop()}}),r)})))()},fetchFloors:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.dispatch,n={type:"floors"},e&&(n.query="?filter[id]="+e.join(",")),r.next=5,o("fetchObjects",n);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},fetchFloor:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n,A;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.state,n=t.dispatch,o.objects.floors[e]){r.next=8;break}return r.next=4,n("fetchObject",{type:"floors",id:e});case 4:return A=r.sent,r.abrupt("return",A);case 8:return r.abrupt("return",o.objects.floors[e]);case 9:case"end":return r.stop()}}),r)})))()},fetchItems:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.dispatch,n={type:"items"},e&&(n.query="?filter[id]="+e.join(",")),r.next=5,o("fetchObjects",n);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},fetchItem:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n,A;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t.state,n=t.dispatch,o.objects.items[e]){r.next=8;break}return r.next=4,n("fetchObject",{type:"items",id:e});case 4:return A=r.sent,r.abrupt("return",A);case 8:return r.abrupt("return",o.objects.items[e]);case 9:case"end":return r.stop()}}),r)})))()},fetchFloorTopics:function(t,e){return Object(J["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.dispatch,n={type:"floor-topics"},e&&(n.query="?filter[id]="+e.join(",")),r.next=5,o("fetchObjects",n);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()}},modules:{}});Object(o["c"])(z).use(U).use(_).mount("#app")},ffbb:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var o=r("d4ec"),n=r("262e"),A=r("2caf"),c=r("ce1f"),s=function(t){Object(n["a"])(r,t);var e=Object(A["a"])(r);function r(){return Object(o["a"])(this,r),e.apply(this,arguments)}return r}(c["b"])}});
//# sourceMappingURL=app.c8c712ce.js.map